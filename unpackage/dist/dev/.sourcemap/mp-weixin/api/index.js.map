{"version":3,"file":"index.js","sources":["api/index.js"],"sourcesContent":["import request from '@/utils/request'\r\n\r\n// 基础路径\r\nconst baseURL = '/api'\r\n\r\n// 用户相关接口\r\nexport const userApi = {\r\n  // 微信登录\r\n  wxLogin(data) {\r\n    return request.post(`${baseURL}/user/wx-login`, null, { \r\n      code: data.code,\r\n      nickName: data.userInfo.nickName,\r\n      avatarUrl: data.userInfo.avatarUrl,\r\n      gender: data.userInfo.gender\r\n    })\r\n  },\r\n\r\n  // 更新用户信息\r\n  updateUserInfo(data) {\r\n    return request.put(`${baseURL}/user/info`, data)\r\n  },\r\n\r\n  // 退出登录\r\n  logout() {\r\n    return request.post(`${baseURL}/user/logout`)\r\n  }\r\n}\r\n\r\n// 菜品相关接口\r\nexport const menuApi = {\r\n  // 获取所有菜品\r\n  getMenuItems() {\r\n    return request.get(`${baseURL}/menu-items`)\r\n  },\r\n\r\n  // 获取单个菜品详情\r\n  getMenuItem(id) {\r\n    return request.get(`${baseURL}/menu-items/${id}`)\r\n  },\r\n\r\n  // 获取推荐菜品\r\n  getRecommendItems() {\r\n    return request.get(`${baseURL}/menu-items/recommend`)\r\n  },\r\n\r\n  // 获取热销菜品\r\n  getHotItems(page = 0, size = 10) {\r\n    return request.get(`${baseURL}/menu-items/hot`, null, {\r\n      page,\r\n      size\r\n    })\r\n  },\r\n\r\n  // 根据分类获取菜品\r\n  getMenuItemsByCategory(categoryId) {\r\n    return request.get(`${baseURL}/menu-items/category/${categoryId}`)\r\n  },\r\n\r\n  // 搜索菜品\r\n  searchMenuItems(keyword) {\r\n    return request.get(`${baseURL}/menu-items/search`, null, {\r\n      keyword  // 直接传递参数对象\r\n    })\r\n  }\r\n}\r\n\r\n// 购物车相关接口\r\nexport const cartApi = {\r\n  // 获取购物车\r\n  getCartItems(userId) {\r\n    return request.get(`${baseURL}/cart/user/${userId}`)\r\n  },\r\n\r\n  // 保存购物车项（添加或更新）\r\n  saveCartItem(data) {\r\n    return request.post(`${baseURL}/cart/save`, data)\r\n  },\r\n\r\n  // 删除购物车项\r\n  removeCartItem(userId, menuItemId) {\r\n    return request.delete(`${baseURL}/cart/${userId}/${menuItemId}`)\r\n  },\r\n\r\n  // 清空购物车\r\n  clearCart(userId) {\r\n    return request.delete(`${baseURL}/cart/${userId}`)\r\n  }\r\n}\r\n\r\n// 订单相关接口\r\nexport const orderApi = {\r\n  // 创建订单\r\n  createOrder(userId) {\r\n    return request.post(`${baseURL}/orders/create/${userId}`);\r\n  },\r\n\r\n  // 获取订单详情\r\n  getOrderDetails(orderId) {\r\n    return request.get(`${baseURL}/orders/${orderId}`)\r\n  },\r\n\r\n  // 获取微信支付参数\r\n  getWxPayParams(orderId) {\r\n    return request.get(`${baseURL}/orders/${orderId}/wx-pay-params`)\r\n  },\r\n\r\n  // 完成支付\r\n  payOrder(orderId) {\r\n    return request.post(`${baseURL}/orders/${orderId}/pay`)\r\n  },\r\n\r\n  // 获取用户订单（分页）\r\n  getUserOrders({ userId, page = 0, size = 10, status = '' }) {\r\n    return request.get(`${baseURL}/orders/user/${userId}`, null, {\r\n      page,\r\n      size,\r\n      status\r\n    })\r\n  },\r\n\r\n  // 取消订单\r\n  cancelOrder(orderId) {\r\n    return request.delete(`${baseURL}/orders/${orderId}`)\r\n  }\r\n}\r\n\r\n// 商家订单管理接口\r\nexport const orderManageApi = {\r\n  // 获取待处理订单\r\n  getPendingOrders() {\r\n    return request({\r\n      url: `${baseURL}/manage/orders/pending`,\r\n      method: 'GET'\r\n    })\r\n  },\r\n\r\n  // 开始处理订单\r\n  startProcessingOrder(orderId) {\r\n    return request({\r\n      url: `${baseURL}/manage/orders/${orderId}/process`,\r\n      method: 'POST'\r\n    })\r\n  },\r\n\r\n  // 完成订单\r\n  completeOrder(orderId) {\r\n    return request({\r\n      url: `${baseURL}/manage/orders/${orderId}/complete`,\r\n      method: 'POST'\r\n    })\r\n  },\r\n\r\n  // 获取今日订单\r\n  getTodayOrders() {\r\n    return request({\r\n      url: `${baseURL}/manage/orders/today`,\r\n      method: 'GET'\r\n    })\r\n  }\r\n}\r\n\r\n// 分类相关接口\r\nexport const categoryApi = {\r\n  // 获取所有分类\r\n  getAllCategories() {\r\n    return request.get(`${baseURL}/categories/all`)\r\n  },\r\n\r\n  // 根据分类获取菜品\r\n  getMenuItemsByCategory(categoryId) {\r\n    return request.get(`${baseURL}/menu-items/category/${categoryId}`)\r\n  },\r\n\r\n  // 创建分类\r\n  createCategory(data) {\r\n    return request.post(`${baseURL}/categories`, data)\r\n  },\r\n\r\n  // 更新分类\r\n  updateCategory(id, data) {\r\n    return request.put(`${baseURL}/categories/${id}`, data)\r\n  },\r\n\r\n  // 删除分类\r\n  deleteCategory(id) {\r\n    return request.delete(`${baseURL}/categories/${id}`)\r\n  }\r\n} "],"names":["request"],"mappings":"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"}